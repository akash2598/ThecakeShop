{"ast":null,"code":"import _slicedToArray from\"/Users/webwerks1/Documents/Project/React Js Training/demo_react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from'react';import{connect}from'react-redux';import axios from'axios';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Cart(props){//\nvar token=localStorage.token;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),cakes=_useState2[0],setCakes=_useState2[1];var cakecarturl=\"https://apibyashu.herokuapp.com/api/cakecart\";var removecarturl=\"https://apibyashu.herokuapp.com/api/removecakefromcart\";useEffect(function(){axios({url:cakecarturl,method:'post',headers:{authtoken:token},data:{}}).then(function(response){console.log(\"cake data\",response.data);setCakes(response.data.data);/* props.dispatch({\n          type:\"CARTDATA\",\n          payload:response.data.data\n       }) */console.log(\"cakes is \",cakes);},function(error){console.log(error);});},[]);var removeItem=function removeItem(cakeemail,id){var email,cakeid;email=cakeemail;cakeid=id;axios({url:removecarturl,method:'post',headers:{authtoken:token},data:{email:email,cakeid:cakeid}}).then(function(response){console.log(\"cake remove data data\",response.data);////////\naxios({url:cakecarturl,method:'post',headers:{authtoken:token},data:{}}).then(function(response){setCakes(response.data.data);/* props.dispatch({\n          type:\"CARTDATA\",\n          payload:response.data.data\n          \n        })*/},function(error){console.log(error);});////\nconsole.log(\"cakes is \",cakes);},function(error){console.log(error);});};var setReduxData=function setReduxData(){props.dispatch({type:\"CARTDATA\",payload:cakes});};return/*#__PURE__*/_jsx(\"div\",{children:(cakes===null||cakes===void 0?void 0:cakes.length)>0?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"My cart\"}),cakes.map(function(object,index){return/*#__PURE__*/_jsx(\"div\",{class:\"container mt-5 mb-5\",children:/*#__PURE__*/_jsx(\"div\",{class:\"d-flex justify-content-center row\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"col-md-8\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"p-2\"}),/*#__PURE__*/_jsxs(\"div\",{class:\"d-flex flex-row justify-content-between align-items-center p-2 bg-white mt-4 px-3 rounded\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"mr-1\",children:/*#__PURE__*/_jsx(\"img\",{class:\"rounded\",src:object.image,width:\"70\"})}),/*#__PURE__*/_jsx(\"div\",{class:\"d-flex flex-column align-items-center product-details\",children:/*#__PURE__*/_jsx(\"span\",{class:\"font-weight-bold\",children:object.name})}),/*#__PURE__*/_jsxs(\"div\",{class:\"d-flex flex-row align-items-center qty\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"fa fa-minus text-danger\"}),/*#__PURE__*/_jsx(\"h5\",{class:\"text-grey mt-1 mr-1 ml-1\",children:object.price}),/*#__PURE__*/_jsx(\"i\",{class:\"fa fa-plus text-success\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-warning \",type:\"button\",onClick:function onClick(){return removeItem(object.email,object.cakeid);},children:\"Remove\"})}),/*#__PURE__*/_jsx(\"div\",{class:\"d-flex align-items-center\",children:/*#__PURE__*/_jsx(\"i\",{class:\"fa fa-trash mb-1 text-danger\"})})]})]})})});}),/*#__PURE__*/_jsx(\"div\",{class:\"d-flex justify-content-center row\",children:/*#__PURE__*/_jsx(Link,{to:\"/checkout\",children:/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-warning btn-block btn-lg ml-2 pay-button justify-content-center\",type:\"button\",onClick:setReduxData,children:\"Proceed to Checkout\"})})})]}):/*#__PURE__*/_jsx(\"div\",{children:\"No items in cart\"})});}export default connect()(Cart);","map":{"version":3,"sources":["/Users/webwerks1/Documents/Project/React Js Training/demo_react/src/Cart.js"],"names":["useEffect","useState","connect","axios","Link","Cart","props","token","localStorage","cakes","setCakes","cakecarturl","removecarturl","url","method","headers","authtoken","data","then","response","console","log","error","removeItem","cakeemail","id","email","cakeid","setReduxData","dispatch","type","payload","length","map","object","index","image","name","price"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react'\nimport { connect } from 'react-redux'\nimport axios from 'axios'\nimport { Link } from 'react-router-dom'\n\nfunction Cart(props){\n\n\n  //\n  \n    \n    let token=localStorage.token\n    var[cakes,setCakes]=useState([])\n    var cakecarturl=\"https://apibyashu.herokuapp.com/api/cakecart\"\n    var removecarturl=\"https://apibyashu.herokuapp.com/api/removecakefromcart\"\n  useEffect(()=>{\n     \n    axios({\n        url:cakecarturl,\n        method:'post',\n        headers:{\n          authtoken:token\n        },\n        data:{}\n      }).then((response)=>{\n        console.log(\"cake data\",response.data)\n        setCakes(response.data.data)\n       /* props.dispatch({\n          type:\"CARTDATA\",\n          payload:response.data.data\n       }) */\n        console.log(\"cakes is \",cakes) \n      },(error)=>{\n        console.log(error)\n      })\n      \n   },[])\n\n   let removeItem =(cakeemail,id)=>{\n    let email,cakeid\n    email=cakeemail\n    cakeid=id\n\n   \n    \n    axios({\n      url:removecarturl,\n      method:'post',\n      headers:{\n        authtoken:token\n      },\n      data:{email,\n      cakeid}\n      }).then((response)=>{\n      console.log(\"cake remove data data\",response.data)\n\n      ////////\n      axios({\n        url:cakecarturl,\n        method:'post',\n        headers:{\n          authtoken:token\n        },\n        data:{}\n      }).then((response)=>{\n        setCakes(response.data.data)\n        /* props.dispatch({\n          type:\"CARTDATA\",\n          payload:response.data.data\n          \n        })*/\n      },(error)=>{\n        console.log(error)\n      })\n\n\n      ////\n      \n     \n      \n      console.log(\"cakes is \",cakes) \n    },(error)=>{\n      console.log(error)\n    })  \n\n    \n\n   }\n\n   let setReduxData=()=>{\n    props.dispatch({\n      type:\"CARTDATA\",\n      payload:cakes\n      \n    })\n   }\n  \n\n    return (\n        <div>\n       { cakes?.length >0 ?  \n       \n       <div>\n       <h1>My cart</h1>\n    {cakes.map((object,index)=>(\n     \n\n\n <div class=\"container mt-5 mb-5\">\n  <div class=\"d-flex justify-content-center row\">\n     <div class=\"col-md-8\">\n    <div class=\"p-2\">\n        \n    </div>\n    <div class=\"d-flex flex-row justify-content-between align-items-center p-2 bg-white mt-4 px-3 rounded\">\n        <div class=\"mr-1\"><img class=\"rounded\" src={object.image} width=\"70\"/></div>\n        <div class=\"d-flex flex-column align-items-center product-details\"><span class=\"font-weight-bold\">{object.name}</span>\n           \n        </div>\n       \n       \n      \n        <div class=\"d-flex flex-row align-items-center qty\"><i class=\"fa fa-minus text-danger\"></i>\n            <h5 class=\"text-grey mt-1 mr-1 ml-1\">{object.price}</h5><i class=\"fa fa-plus text-success\"></i>\n        </div>\n\n       \n\n        <div>\n        <button class=\"btn btn-warning \" type=\"button\" onClick={()=>removeItem(object.email,object.cakeid)}>Remove</button>\n        </div>\n        <div class=\"d-flex align-items-center\"><i class=\"fa fa-trash mb-1 text-danger\"></i></div>\n    </div>\n   \n  \n   \n</div>\n</div>\n</div>\n\n        \n\n   ))}\n     <div class=\"d-flex justify-content-center row\">\n     <Link to=\"/checkout\"><button  class=\"btn btn-warning btn-block btn-lg ml-2 pay-button justify-content-center\" type=\"button\" onClick={setReduxData}>Proceed to Checkout</button></Link> \n      </div>\n\n   </div>\n       \n       \n       :<div>\n           No items in cart   \n        </div>}\n\n\n \n       </div>\n\n\n    ) \n    \n}\n\nexport default connect()(Cart);"]},"metadata":{},"sourceType":"module"}