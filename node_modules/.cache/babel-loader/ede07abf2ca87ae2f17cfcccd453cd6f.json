{"ast":null,"code":"var _jsxFileName = \"/Users/webwerks1/Documents/Project/React Js Training/demo_react/src/Login.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport validator from 'validator';\nimport axios from \"axios\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport Loader from \"react-loader-spinner\";\nimport toast, { Toaster } from 'react-hot-toast'; //useEffec-for did mount didupdate\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login(props) {\n  _s();\n\n  // var isrun=false;\n  // var [isrun,setRun]=useState(false)\n  var [error, setError] = useState();\n  var [users, setUser] = useState({});\n  var user = {};\n\n  let getEmail = function (event) {\n    if (!event.target.value) {\n      setError(\"Please fill email\");\n    } else {\n      user.email = event.target.value;\n      setError(\"\");\n    }\n    /*setUser({\n        email:event.target.value,\n        password:users.password\n    }) */\n\n  };\n\n  let getPassword = function (event) {\n    if (!event.target.value) {\n      setError(\"Please fill password\");\n    } else {\n      user.password = event.target.value;\n      setError(\"\");\n    }\n    /*  setUser({\n          email:users.email,\n          password:event.target.value\n      }) */\n\n  };\n\n  function login() {\n    if (!user.email || !user.password) {\n      console.log(user.email);\n      setError(\"Please fill all details\");\n      document.getElementById(\"email\").value = \"\";\n      document.getElementById(\"password\").value = \"\"; //call the method\n      //  props.informlogin(\"AS\")\n    } else {\n      if (!validator.isEmail(user.email)) {\n        setError(\"Enter valid Email\");\n        document.getElementById(\"email\").value = \"\";\n        document.getElementById(\"password\").value = \"\";\n      } else {\n        props.dispatch({\n          type: \"LOGIN\",\n          payload: user\n        });\n\n        if (props.isloggedin) {\n          toast.success(\"Login Success...\"); // props.history.push(\"/\")\n        }\n        /*\n           setRun(true)\n            let apiurl=\"https://apibyashu.herokuapp.com/api/login\"\n        axios({\n           url:apiurl,\n           method:\"post\",\n           data:user\n        }).then((response)=>{\n           console.log(\"response from api\",response.data)\n          \n           if(response.data.token){\n              \n               //route using code -rote add extra feat. to props of component\n               props.history.push(\"/\")\n               setRun(false)\n               //localStorage.email=response.data.email\n               localStorage.token=response.data.token\n               //localStorage.name=response.data.name\n              // props.informlogin(localStorage.name)\n              console.log(\"...previous path\",props.url)\n               props.dispatch({\n                   type:\"LOGIN\",\n                   payload:{email:response.data.email,name:response.data.name}\n               }) \n           }\n           else{\n               setError(response.data.message)\n               setRun(false)\n           }\n           //props.informlogin(response.data.name)\n        },(error)=>{\n           console.log(\"Error from api\",error)\n           setError(error)\n           setRun(false)\n        })\n             */\n\n      }\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: \"50%\",\n      margin: \"auto\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Toaster, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 10\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 30\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        class: \"form-control\",\n        name: \"email\",\n        id: \"email\",\n        placeholder: \"Enter Email\",\n        onChange: getEmail\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 115\n      }, this), users.email, /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 32\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        class: \"form-control\",\n        name: \"password\",\n        id: \"password\",\n        type: \"password\",\n        placeholder: \"Enter Password\",\n        onChange: getPassword\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 143\n      }, this), users.password, /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: login,\n        className: \"btn btn-primary\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          float: \"left\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/signup\",\n          children: \" Not a user?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 8\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          float: \"right\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/forgotpassword\",\n          children: \" Forgot Password ?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 8\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 8\n      }, this), props.loginerror ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: \"red\"\n        },\n        children: \"Invalid Creditinals\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 29\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: \"red\"\n        },\n        children: [error, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 10\n      }, this), props.isrun && /*#__PURE__*/_jsxDEV(Loader, {\n        type: \"ThreeDots\",\n        color: \"#00BFFF\",\n        height: 100,\n        width: 100\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 140,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Login, \"ke3pUjdAYxRfjVr0LHWV6cQh1I4=\");\n\n_c = Login;\nLogin = withRouter(Login);\nexport default connect(function (state, props) {\n  console.log(\".....Login state\", state);\n  return {\n    isrun: state[\"isfetching\"],\n    loginerror: state[\"loginerror\"],\n    isloggedin: state[\"isloggedin\"]\n  };\n})(Login); //\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/webwerks1/Documents/Project/React Js Training/demo_react/src/Login.js"],"names":["useState","useEffect","validator","axios","Link","withRouter","connect","Loader","toast","Toaster","Login","props","error","setError","users","setUser","user","getEmail","event","target","value","email","getPassword","password","login","console","log","document","getElementById","isEmail","dispatch","type","payload","isloggedin","success","width","margin","float","loginerror","color","isrun","state"],"mappings":"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","sourcesContent":["\n  \nimport {useState,useEffect} from \"react\"\nimport validator from 'validator'\nimport axios from \"axios\"\nimport { Link ,withRouter} from \"react-router-dom\"\nimport { connect } from \"react-redux\"\nimport Loader from \"react-loader-spinner\";\nimport toast, { Toaster } from 'react-hot-toast';\n\n//useEffec-for did mount didupdate\nfunction Login(props){\n    \n     // var isrun=false;\n\n      \n     // var [isrun,setRun]=useState(false)\n      var [error,setError]=useState() \n      var[users,setUser]=useState({})\n      var user={} \n\n  \n\n     let getEmail=function(event){\n          \n        if(!event.target.value){\n            setError(\"Please fill email\")\n        }\n       else{\n        user.email = event.target.value\n        setError(\"\")\n       }\n        /*setUser({\n            email:event.target.value,\n            password:users.password\n        }) */\n     }\n\n     let getPassword=function(event){\n       \n        if(!event.target.value){\n            setError(\"Please fill password\")\n        }\n        else{\n        user.password = event.target.value\n        setError(\"\")\n        }\n      /*  setUser({\n            email:users.email,\n            password:event.target.value\n        }) */\n     }\n\n     \n\n\n\n    function login (){\n          \n            \n            if(!user.email || !user.password){\n                console.log(user.email)\n                setError(\"Please fill all details\")\n                document.getElementById(\"email\").value=\"\"\n                document.getElementById(\"password\").value=\"\"\n               \n               \n                //call the method\n              //  props.informlogin(\"AS\")\n                  \n            }\n            else\n            {\n              if (!validator.isEmail(user.email)){\n                  setError(\"Enter valid Email\")\n                  document.getElementById(\"email\").value=\"\"\n                  document.getElementById(\"password\").value=\"\"\n              }\n              else{\n\n            \n                props.dispatch({\n                    type:\"LOGIN\",\n                    payload:user\n                })\n                if(props.isloggedin)\n                {\n                toast.success(\"Login Success...\")\n               // props.history.push(\"/\")\n                }\n\n                  \n             /*\n                setRun(true)\n\n                let apiurl=\"https://apibyashu.herokuapp.com/api/login\"\n            axios({\n                url:apiurl,\n                method:\"post\",\n                data:user\n\n            }).then((response)=>{\n                console.log(\"response from api\",response.data)\n               \n                if(response.data.token){\n                   \n                    //route using code -rote add extra feat. to props of component\n                    props.history.push(\"/\")\n                    setRun(false)\n                    //localStorage.email=response.data.email\n                    localStorage.token=response.data.token\n                    //localStorage.name=response.data.name\n                   // props.informlogin(localStorage.name)\n                   console.log(\"...previous path\",props.url)\n                    props.dispatch({\n                        type:\"LOGIN\",\n                        payload:{email:response.data.email,name:response.data.name}\n                    }) \n                }\n                else{\n                    setError(response.data.message)\n                    setRun(false)\n                }\n\n               //props.informlogin(response.data.name)\n            },(error)=>{\n                console.log(\"Error from api\",error)\n                setError(error)\n                setRun(false)\n            })\n                  */\n\n \n         }\n            \n            }\n     }\n\n    return(\n        <div style={{width:\"50%\" ,margin:\"auto\"}}>\n                \n         <div><Toaster/></div>    \n        <div className=\"form-group\">\n           \n        <label >Email</label><br/>\n        <input class=\"form-control\" name=\"email\" id=\"email\" placeholder=\"Enter Email\" onChange={getEmail}></input><br/>\n        {users.email}\n        <label>Password</label><br/>\n        <input class=\"form-control\" name=\"password\" id=\"password\" type=\"password\" placeholder=\"Enter Password\" onChange={getPassword}></input><br/>\n        {users.password}\n       <button onClick={login} className=\"btn btn-primary\">Login</button>\n       <div style={{float:\"left\"}}>\n       <Link to=\"/signup\"> Not a user?</Link>\n       </div>\n       <div style={{float:\"right\"}}>\n       <Link to=\"/forgotpassword\"> Forgot Password ?</Link>\n       </div>\n        \n       { props.loginerror ? <div style={{color:\"red\"}}>\n            Invalid Creditinals\n        </div> : \n         <div style={{color:\"red\"}}>{error} </div>\n      }\n        \n       { props.isrun && <Loader\n        type=\"ThreeDots\"\n        color=\"#00BFFF\"\n        height={100}\n        width={100}\n        \n      />}\n        </div>\n\n       \n\n    </div>\n    )\n}\n\nLogin=withRouter(Login)\nexport default connect(function(state,props){\n    console.log(\".....Login state\",state)\n   \n      return{\n        isrun:state[\"isfetching\"],\n        loginerror: state[\"loginerror\"],\n        isloggedin:state[\"isloggedin\"]\n      }\n      \n      \n      \n      \n    \n  })(Login);\n//\n"]},"metadata":{},"sourceType":"module"}